install:
	uv sync --all-extras

########################################################################################################################
# Quality checks
########################################################################################################################

test:
	uv run pytest tests

lint:
	uv run ruff check ai_exercise tests

format:
	uv run ruff check ai_exercise tests --fix

typecheck:
	uv run mypy ai_exercise


########################################################################################################################
# Api
########################################################################################################################

start-api:
	docker compose up

dev-api:
	uv run ai_exercise/main.py

########################################################################################################################
# Streamlit
########################################################################################################################

start-app:
	PYTHONPATH=. uv run streamlit run demo/main.py

########################################################################################################################
# Evaluation
########################################################################################################################

evaluate:
	export $$(cat .env | xargs) && uv run python -m ai_exercise.evaluate_ragas




